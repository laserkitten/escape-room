<!-- This page can be found at https://laserkitten.github.io/escape-room -->
<html>
  <head>
    <title>The Present by @laserkitten</title>
  	<link href="css/laserkitten.css" rel="stylesheet" type="text/css">
  </head>
  <script>
    var status = '';
    var liquid = 0;
    function initialize() {
      const url_params = new URLSearchParams(window.location.search);
      if (url_params.has('status')) {
        status = url_params.get('status');
        liquid = ['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'].indexOf(status[1]);
        if (liquid%4 == 1) {
          document.getElementById('button_0').value = 'Taste the liquid.';
          document.getElementById('text').innerHTML = 'You look closely at the reddish liquid. There is no distinct smell and it\'s highly viscous.';}
        else if (liquid%4 == 2) {
          liquid = liquid + 1;
          document.getElementById('button_0').type = hidden;
          document.getElementById('text').innerHTML = 'It\'s beet syrup.';}
        else if (liquid%4 == 3) {
          document.getElementById('button_0').type = hidden;
          document.getElementById('text').innerHTML = 'It\'s beet syrup.';}
      else {
        window.location.href = 'present.html?status=00';}}
    function inspect() {
      liquid = liquid + 1;
      status[1] = ['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'].[liquid];
      window.location.href = 'present_stove.html?status=' + status;}
    function leave() {
      if (liquid%4 == 1) {
        liquid = liquid - 1;}
      else if (liquid%4 == 2) {
        liquid = liquid + 1;}
      status[1] = ['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'].[liquid];
      window.location.href = 'present.html?status=' + status;}
  </script>
  <body onload='initialize();'>
    <div class='content'>
      <p class='title'>The Present, an Online Escape Room</p>
      <svg width='640' height='360'>
        <image xlink:href='img/stove.jpg' />
        <path id='arrow' onclick='leave();' d='M 313.00,334.00 C 313.00,334.00 309.00,334.00 309.00,334.00 309.00,334.00 318.00,347.00 318.00,347.00 318.00,347.00 320.00,347.00 320.00,347.00 320.00,347.00 329.00,334.00 329.00,334.00 329.00,334.00 324.00,334.00 324.00,334.00 324.00,334.00 324.00,317.00 324.00,317.00 321.72,317.00 316.34,316.64 314.60,318.02 312.12,319.98 313.00,330.71 313.00,334.00 Z' />        
      </svg>
      <p id='text'>You look closer at the metal stove. Someone has written the numbers 6, 22, and 12 onto the rusty surface using a thick reddish liquid. Could it be blood?</p>
      <input class='button' id='button_0' type='button' value='Inspect the liquid.' onclick='inspect();'>
    </div>
  </body>
</html>
